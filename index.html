<!DOCTYPE html>
<html>
	<head>
		<title>StrikkulatorðŸ§¶ðŸ¤“</title>
		<meta charset="UTF-8" />
	</head>
	<body>
		<style>
			:root {
				font-size: 125%;
			}
			body {
				padding: 0;
				margin: 0;

				background-color: FloralWhite;
				color: DimGray;
			}
			h1, h2, h3, h4, h5 {
				color: CadetBlue;
			}
			#content-root {
				min-height: 100vh;
				display: flex;
				flex-direction: column;
				align-items: center;
			}
			.fluff {
				color: cadetblue;
				background-color: inherit;
				box-sizing: border-box;
				width: 100%;
				padding: 1rem;
				text-align: center;
			}
			main {
				flex: 1;
				display:flex;
				box-sizing: border-box;
				width: 100%;
				align-items: start;
				justify-content: center;
			}
			article {
				min-width: 30rem;
				display: flex;
				flex-direction: column;
				align-items: center;
				background-color: white;
				padding: 1rem;
				border-radius: 1rem;
				overflow: clip;
			}
			form {
				display: flex;
				flex-direction: column;
				margin-bottom: 1rem;
			}
			form > * {
				flex: 1;
			}
			.input {
				display: flex;
				margin: 0.25rem 0;
				column-gap: 0.5em;
				align-items: center;
			}
			.input > label {
				flex: 10rem;
			}
			.input > input {
				flex: 1;
				font-size: 0.75em;
				padding: 0.35rem 0.5rem;
				border: solid DimGray 1px;
				border-radius: 0.35em;
			}

			@media screen and (max-width: 1000px) and (min-height: 1500px) {
				:root {
					font-size: 250%;
				}
				body {
					font-size: 1.2rem;
				}
				article {
					width: 100%;
					margin: 0 1rem;
					min-width: unset;
				}
				.input > input {
					border: solid DimGray 2px;
				}
			}
		</style>
		<div id="content-root">
			<header class="fluff"><h2>StrikkulatorðŸ§¶ðŸ¤“</h2></header>
			<main>
				<article>
					<h2>Felling av masker</h2>
					<form>
						<div class="input">
							<label for="start">Start</label>
							<input type="text" id="start"/>
						</div>
						<div class="input">
							<label for="stop">Stopp</label>
							<input type="text" id="stop"/>
						</div>
					</form>
					<div id="result">
						<div>
							<h3>Rekke A</h3>
							<p id="instructions-a"></p>
						</div>
						<div>
							<h3>Rekke B</h3>
							<p id="instructions-b"></p>
						</div>
					</div>
				</article>
			</main>
			<footer class="fluff">Made by BrÃ¸drene MyklÃ¸y.</footer>
		</div>

		<script>
			// skjul resultat til vi har noe kult Ã¥ vise
			document.getElementById('result').setAttribute('hidden', 'hidden');

			let start;
			let stop;

			const setStart = (s) => {
				start = s;
				updateResult();
			};
			const setStop = (s) => {
				stop = s;
				updateResult();
			};

			const updateResult = () => {
				if(!start || !stop) {
					return;
				}

				const masksToDrop = start - stop;
				const steps = Math.floor(stop / masksToDrop);

				const rowB = stop % masksToDrop;
				const rowA = masksToDrop - rowB;
				const preDropped = steps * rowA;
				const tmp4 = (stop - preDropped) / (masksToDrop - rowA);

				document.getElementById('instructions-a').textContent = `SlÃ¥ sammen 2 masker pÃ¥ hver ${steps} maske, ${rowA} ganger`;
				document.getElementById('instructions-b').textContent = `SlÃ¥ sammen 2 masker pÃ¥ hver ${tmp4} maske, ${rowB} ganger`;

				if(rowB == 0) {
					document.getElementById('instructions-b').parentElement.setAttribute('hidden', 'hidden');
				} else {
					document.getElementById('instructions-b').parentElement.removeAttribute('hidden');
				}

				document.getElementById('result').removeAttribute('hidden');
			};

			document.getElementById('start').addEventListener('selectionchange', e => setStart(e.srcElement.value));
			document.getElementById('stop').addEventListener('selectionchange', e => setStop(e.srcElement.value));
		</script>
	</body>
</html>

